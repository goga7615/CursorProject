# Google Таблицы - Система разбора блюд

## Структура таблицы

### Лист 1: Ингредиенты (Ingredients)
Содержит базу всех доступных ингредиентов и продуктов.

| Колонка | Описание | Формула |
|---------|----------|---------|
| A | ID ингредиента | Автоинкремент |
| B | Название | Текст |
| C | Категория | Выпадающий список |
| D | Единица измерения | Выпадающий список |
| E | Стоимость за единицу | Число |
| F | Калории на 100г | Число |
| G | Белки на 100г | Число |
| H | Жиры на 100г | Число |
| I | Углеводы на 100г | Число |

### Лист 2: Полуфабрикаты (Semi-finished)
Содержит промежуточные продукты и их состав.

| Колонка | Описание | Формула |
|---------|----------|---------|
| A | ID полуфабриката | Автоинкремент |
| B | Название | Текст |
| C | Описание | Текст |
| D | Выход в граммах | Число |
| E | Стоимость | =SUMIF(Рецепты!B:B,A2,Рецепты!D:D) |
| F | Калории | =SUMIF(Рецепты!B:B,A2,Рецепты!E:E) |

### Лист 3: Рецепты (Recipes)
Связывает полуфабрикаты с их ингредиентами.

| Колонка | Описание | Формула |
|---------|----------|---------|
| A | ID рецепта | Автоинкремент |
| B | ID полуфабриката | Ссылка на полуфабрикаты |
| C | ID ингредиента | Ссылка на ингредиенты |
| D | Количество | Число |
| E | Стоимость | =D2*VLOOKUP(C2,Ингредиенты!A:E,5,FALSE) |
| F | Калории | =D2*VLOOKUP(C2,Ингредиенты!A:I,6,FALSE)/100 |

### Лист 4: Блюда (Dishes)
Содержит готовые блюда и их состав.

| Колонка | Описание | Формула |
|---------|----------|---------|
| A | ID блюда | Автоинкремент |
| B | Название блюда | Текст |
| C | Категория | Выпадающий список |
| D | Порция в граммах | Число |
| E | Стоимость порции | =SUMIF(Состав_блюд!B:B,A2,Состав_блюд!F:F) |
| F | Калории порции | =SUMIF(Состав_блюд!B:B,A2,Состав_блюд!G:G) |

### Лист 5: Состав блюд (Dish_Components)
Связывает блюда с их компонентами (ингредиенты + полуфабрикаты).

| Колонка | Описание | Формула |
|---------|----------|---------|
| A | ID записи | Автоинкремент |
| B | ID блюда | Ссылка на блюда |
| C | Тип компонента | Выпадающий список (Ингредиент/Полуфабрикат) |
| D | ID компонента | Ссылка на ингредиенты или полуфабрикаты |
| E | Количество | Число |
| F | Стоимость | =E2*IF(C2="Ингредиент",VLOOKUP(D2,Ингредиенты!A:E,5,FALSE),VLOOKUP(D2,Полуфабрикаты!A:E,5,FALSE)) |
| G | Калории | =E2*IF(C2="Ингредиент",VLOOKUP(D2,Ингредиенты!A:I,6,FALSE)/100,VLOOKUP(D2,Полуфабрикаты!A:F,6,FALSE)/100) |

## Основные формулы

### Расчет общей стоимости блюда
```
=SUMIF(Состав_блюд!B:B,A2,Состав_блюд!F:F)
```

### Расчет калорийности блюда
```
=SUMIF(Состав_блюд!B:B,A2,Состав_блюд!G:G)
```

### Поиск ингредиента по названию
```
=VLOOKUP("Название_ингредиента",Ингредиенты!B:I,8,FALSE)
```

### Подсчет количества ингредиентов в блюде
```
=COUNTIF(Состав_блюд!B:B,A2)
```

## Настройка выпадающих списков

### Категории ингредиентов
- Овощи
- Фрукты
- Мясо
- Рыба
- Молочные продукты
- Крупы
- Специи
- Масла

### Единицы измерения
- г (граммы)
- кг (килограммы)
- мл (миллилитры)
- л (литры)
- шт (штуки)
- пучок
- щепотка

### Категории блюд
- Первые блюда
- Вторые блюда
- Салаты
- Десерты
- Напитки
- Закуски
