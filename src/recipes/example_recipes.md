# Примеры рецептов и их разбор

## 1. Борщ (основное блюдо)

### Состав на 1 порцию (300г):

#### Ингредиенты:
- Свекла - 80г
- Капуста белокочанная - 60г
- Картофель - 50г
- Морковь - 30г
- Лук репчатый - 20г
- Чеснок - 5г
- Томатная паста - 15г
- Растительное масло - 10г
- Соль - 3г
- Перец черный - 1г
- Лавровый лист - 1г

#### Полуфабрикаты:
- Бульон мясной - 100г

### Расчет стоимости:
```
=80*VLOOKUP("Свекла",Ингредиенты!B:E,4,FALSE) +
 60*VLOOKUP("Капуста белокочанная",Ингредиенты!B:E,4,FALSE) +
 50*VLOOKUP("Картофель",Ингредиенты!B:E,4,FALSE) +
 30*VLOOKUP("Морковь",Ингредиенты!B:E,4,FALSE) +
 20*VLOOKUP("Лук репчатый",Ингредиенты!B:E,4,FALSE) +
 5*VLOOKUP("Чеснок",Ингредиенты!B:E,4,FALSE) +
 15*VLOOKUP("Томатная паста",Ингредиенты!B:E,4,FALSE) +
 10*VLOOKUP("Растительное масло",Ингредиенты!B:E,4,FALSE) +
 3*VLOOKUP("Соль",Ингредиенты!B:E,4,FALSE) +
 1*VLOOKUP("Перец черный",Ингредиенты!B:E,4,FALSE) +
 1*VLOOKUP("Лавровый лист",Ингредиенты!B:E,4,FALSE) +
 100*VLOOKUP("Бульон мясной",Полуфабрикаты!B:E,4,FALSE)
```

## 2. Бульон мясной (полуфабрикат)

### Состав на 1л:

#### Ингредиенты:
- Говядина на кости - 500г
- Морковь - 100г
- Лук репчатый - 80г
- Корень петрушки - 30г
- Соль - 10г
- Перец черный - 2г
- Лавровый лист - 2г
- Вода - 1500г

### Выход: 1000г (с учетом потерь при варке)

### Расчет стоимости:
```
=500*VLOOKUP("Говядина на кости",Ингредиенты!B:E,4,FALSE) +
 100*VLOOKUP("Морковь",Ингредиенты!B:E,4,FALSE) +
 80*VLOOKUP("Лук репчатый",Ингредиенты!B:E,4,FALSE) +
 30*VLOOKUP("Корень петрушки",Ингредиенты!B:E,4,FALSE) +
 10*VLOOKUP("Соль",Ингредиенты!B:E,4,FALSE) +
 2*VLOOKUP("Перец черный",Ингредиенты!B:E,4,FALSE) +
 2*VLOOKUP("Лавровый лист",Ингредиенты!B:E,4,FALSE)
```

## 3. Салат "Цезарь" (основное блюдо)

### Состав на 1 порцию (200г):

#### Ингредиенты:
- Листья салата - 50г
- Куриное филе - 80г
- Сыр пармезан - 20г
- Хлеб белый - 30г
- Чеснок - 5г
- Оливковое масло - 15г

#### Полуфабрикаты:
- Соус "Цезарь" - 20г

### Расчет стоимости:
```
=50*VLOOKUP("Листья салата",Ингредиенты!B:E,4,FALSE) +
 80*VLOOKUP("Куриное филе",Ингредиенты!B:E,4,FALSE) +
 20*VLOOKUP("Сыр пармезан",Ингредиенты!B:E,4,FALSE) +
 30*VLOOKUP("Хлеб белый",Ингредиенты!B:E,4,FALSE) +
 5*VLOOKUP("Чеснок",Ингредиенты!B:E,4,FALSE) +
 15*VLOOKUP("Оливковое масло",Ингредиенты!B:E,4,FALSE) +
 20*VLOOKUP("Соус Цезарь",Полуфабрикаты!B:E,4,FALSE)
```

## 4. Соус "Цезарь" (полуфабрикат)

### Состав на 100г:

#### Ингредиенты:
- Майонез - 60г
- Чеснок - 15г
- Лимонный сок - 10г
- Горчица - 5г
- Соль - 3г
- Перец черный - 2г
- Вустерширский соус - 5г

### Выход: 100г

## 5. Торт "Наполеон" (десерт)

### Состав на 1 порцию (150г):

#### Ингредиенты:
- Мука пшеничная - 40г
- Сливочное масло - 25г
- Яйца - 15г
- Сахар - 20г
- Молоко - 30г
- Ванилин - 1г

#### Полуфабрикаты:
- Заварной крем - 20г

### Расчет стоимости:
```
=40*VLOOKUP("Мука пшеничная",Ингредиенты!B:E,4,FALSE) +
 25*VLOOKUP("Сливочное масло",Ингредиенты!B:E,4,FALSE) +
 15*VLOOKUP("Яйца",Ингредиенты!B:E,4,FALSE) +
 20*VLOOKUP("Сахар",Ингредиенты!B:E,4,FALSE) +
 30*VLOOKUP("Молоко",Ингредиенты!B:E,4,FALSE) +
 1*VLOOKUP("Ванилин",Ингредиенты!B:E,4,FALSE) +
 20*VLOOKUP("Заварной крем",Полуфабрикаты!B:E,4,FALSE)
```

## 6. Заварной крем (полуфабрикат)

### Состав на 100г:

#### Ингредиенты:
- Молоко - 60г
- Сахар - 25г
- Яичные желтки - 10г
- Мука пшеничная - 5г

### Выход: 100г

## Формулы для автоматического расчета

### Общая стоимость блюда с учетом всех компонентов:
```
=SUMIF(Состав_блюд!B:B,ID_блюда,Состав_блюд!F:F)
```

### Калорийность блюда:
```
=SUMIF(Состав_блюд!B:B,ID_блюда,Состав_блюд!G:G)
```

### Количество ингредиентов в блюде:
```
=COUNTIF(Состав_блюд!B:B,ID_блюда)
```

### Поиск блюд по ингредиенту:
```
=QUERY(Состав_блюд!A:G,"SELECT B WHERE D = "&ID_ингредиента)
```

## Пример заполнения таблицы

### Лист "Состав_блюд" для борща:
| ID | ID_блюда | Тип_компонента | ID_компонента | Количество | Стоимость | Калории |
|----|----------|----------------|---------------|------------|-----------|---------|
| 1  | 1        | Ингредиент     | 1             | 80         | =80*E1    | =80*F1/100|
| 2  | 1        | Ингредиент     | 2             | 60         | =60*E2    | =60*F2/100|
| 3  | 1        | Полуфабрикат   | 1             | 100        | =100*E1   | =100*F1/100|

Где E1, E2, F1, F2 - ссылки на соответствующие ячейки в листе "Ингредиенты".
